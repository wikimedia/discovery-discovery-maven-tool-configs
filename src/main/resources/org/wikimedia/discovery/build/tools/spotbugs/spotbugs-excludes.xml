<?xml version="1.0"?>
<FindBugsFilter>
    <!-- the following bugs are always ignored -->
    <Match>
        <!--
            Manually sizing collections is error prone and in most cases tend
            to be a micro optimization.
        -->
        <Bug pattern="PSC_PRESIZE_COLLECTIONS"/>
    </Match>

    <Match>
        <!-- Softening exception is an acceptable pattern in this project. -->
        <Or>
            <Bug pattern="EXS_EXCEPTION_SOFTENING_HAS_CHECKED"/>
            <Bug pattern="EXS_EXCEPTION_SOFTENING_NO_CONSTRAINTS"/>
        </Or>
    </Match>

    <Match>
        <!--
            Inverting comparison order when String literals are involved leads
            to unnatural code. Proper null checking should always be done
            anyway.
        -->
        <Bug pattern="LSC_LITERAL_STRING_COMPARISON"/>
    </Match>

    <Match>
        <!-- We have only seen false positives with this rule, so let's ignore it. -->
        <Bug pattern="CLI_CONSTANT_LIST_INDEX"/>
    </Match>

    <Match>
        <!-- Semantic isn't that confusing. -->
        <Bug pattern="CFS_CONFUSING_FUNCTION_SEMANTICS" />
    </Match>

    <Match>
        <!-- While the rule make sense, it is used in a few lambdas where it
             generates false positives. Since we can't add @SuppressFBWarnings
             in lambdas, let's disable this rule for the moment. -->
        <Bug pattern="EC_UNRELATED_CLASS_AND_INTERFACE" />
    </Match>

    <Match>
        <!-- We almost always want new lines to be the same on any platform. We
             send those across network more often than not. -->
        <Bug pattern="VA_FORMAT_STRING_USES_NEWLINE" />
    </Match>

    <Match>
        <!-- Generate false positives on code compiled with Java 11. Let's
             disable this rule until https://github.com/spotbugs/spotbugs/issues/756
             is fixed. -->
        <Bug pattern="NP_LOAD_OF_KNOWN_NULL_VALUE,RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE,RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE,RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE" />
    </Match>

</FindBugsFilter>
